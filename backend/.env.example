# ===== App =====
APP_ENV=local
APP_TIMEZONE=Asia/Jerusalem
LOG_LEVEL=INFO

# ===== Ports (docker-compose maps external ports) =====
API_PORT=8001
DB_PORT=5435

# ===== Database =====
# IMPORTANT: db:5432 is the INTERNAL port inside docker-compose network
DATABASE_URL=postgresql+psycopg://postgres:postgres@db:5432/protein_tracker_db

# ===== JWT =====
JWT_SECRET=change_me
JWT_ALGORITHM=HS256
JWT_EXPIRES_MINUTES=60

# ===== OpenAI =====
OPENAI_API_KEY=change_me
OPENAI_MODEL=gpt-4.1-mini

# ===== Telegram =====
TELEGRAM_BOT_TOKEN=change_me
TELEGRAM_WEBHOOK_SECRET=change_me
TELEGRAM_WEBHOOK_PATH=/api/v1/telegram/webhook

# ===== CORS (for future Vite frontend) =====
CORS_ORIGINS=http://localhost:5173

#REDIS SETTINGS
REDIS_ENABLED=true
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
DAY_SUMMARY_CACHE_TTL_SECONDS=120


# ===== Rate Limiting =====
RATE_LIMIT_ENABLED=true
# Global rule (applies to all requests)
RL_GLOBAL_CAPACITY=300
RL_GLOBAL_REFILL_PER_SEC=1.0   # 300 per 5 minutes ~= 1 token/sec

# Expire safety (seconds)
RL_KEY_EXPIRE_SECONDS=600
